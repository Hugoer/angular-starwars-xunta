<div class="filter-container">
  <input
    type="text"
    class="input"
    placeholder="Buscar personaje por nombre"
    [value]="searchTerm()"
    (input)="onSearch($event)"
  />

  <div class="info-bar">
    @if (isLoading()) {
      <span>Cargando personajes...</span>
    } @else if (error()) {
      <span>{{ error() }}</span>
    } @else if (characters().length > 0) {
      <span>
        {{ characters().length }} resultado{{ characters().length === 1 ? '' : 's' }} encontrado{{ characters().length === 1 ? '' : 's' }}
      </span>
      @if (searchTerm().trim()) {
        <button class="reset-btn" (click)="resetSearch()">Limpiar búsqueda</button>
      }
    } @else if (searchTerm().trim()) {
      <span>No se encontraron personajes.</span>
      <button class="reset-btn" (click)="resetSearch()">Limpiar búsqueda</button>
    }
  </div>

  @if (!isLoading() && characters().length > 0) {
    <div class="cards">
      <app-character-card
        *ngFor="let char of characters()"
        [name]="char.name"
        [routerLink]="['/character', char.uid]"
      />
    </div>
  }
</div>
