<div class="filter-container">
  <input
    type="text"
    class="input"
    placeholder="{{ 'filter.search' | translate }}"
    [value]="searchTerm()"
    (input)="onSearch($event)"
  />

  <div class="info-bar">
    @if (isLoading()) {
      <span>{{ 'filter.loading' | translate }}</span>
    } @else if (error()) {
      <span>{{ error() }}</span>
    } @else if (characters().length > 0) {
      <span>
        {{ characters().length }} {{ 'filter.result' | translate }}{{ characters().length === 1 ? '' : 's' }} {{ 'filter.found' | translate }}{{ characters().length === 1 ? '' : 's' }}
      </span>
      @if (searchTerm().trim()) {
        <button class="reset-btn" (click)="resetSearch()">{{ 'filter.reset' | translate }}</button>
      }
    } @else if (searchTerm().trim()) {
      <span>{{ 'filter.noresults' | translate }}</span>
      <button class="reset-btn" (click)="resetSearch()">{{ 'filter.reset' | translate }}</button>
    }
  </div>

  @if (!isLoading() && characters().length > 0) {
    <div class="cards">
      <app-character-card
        *ngFor="let char of characters()"
        [name]="char.name"
        [routerLink]="['/character', char.uid]"
      />
    </div>
  }
</div>
